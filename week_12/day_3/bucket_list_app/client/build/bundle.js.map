{"version":3,"sources":["webpack:///webpack/bootstrap f8ae6247d272ecc70b58","webpack:///./src/app.js","webpack:///./src/views/country_detailed_view.js","webpack:///./src/models/country_list.js","webpack:///./src/views/countries_select_view.js","webpack:///./src/views/bucket_list_view.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;ACxCA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;;;;;;;AClBA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAmC,iBAAiB;AACpD;AACA;AACA;;;;;;;AClCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;;;;;;;AChCA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap f8ae6247d272ecc70b58\n **/","var CountriesSelectView = require('./views/countries_select_view');\nvar BucketListView = require('./views/bucket_list_view');\nvar CountryDetailView = require('./views/country_detailed_view');\nvar CountrySelectView = require('./views/countries_select_view');\n\nvar CountryList = require('./models/country_list');\n\n\nwindow.onload = function () {\n    //setup views\n    var countriesSelectView = new CountriesSelectView(document.querySelector('#countries'));\n    var countryDetailView = new CountryDetailView(document.querySelector('#info'));\n    var bucketListView = new BucketListView(document.querySelector('#bucket-list'));\n\n    //link change on select to update detail view and persist last country\n    countriesSelectView.onChange = function(country){\n      countryDetailView.display(country);\n    }\n\n    //setup country list model\n    var world = new CountryList('https://restcountries.eu/rest/v1');\n    var bucketList = new CountryList('bucketList');\n\n    //update views on data update\n    world.onUpdate = function(countries){\n      countriesSelectView.populate(countries);\n    };\n\n    bucketList.onUpdate = function(countries){\n      bucketListView.populate(countries);\n    };\n\n    countryDetailView.onAdd = function(country){\n      bucketList.addCountry(country)\n    }\n\n    //get data from server\n    world.populate();\n    bucketList.populate();\n\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app.js\n ** module id = 0\n ** module chunks = 0\n **/","var CountryDetailView = function(element){\n  this.element = element;\n  this.onAdd = console.log;\n}\n\nCountryDetailView.prototype = {\n  display: function(country){\n    var tags = this.element.querySelectorAll('p')\n    tags[0].innerText = country.name;\n    tags[1].innerText = country.population;\n    tags[2].innerText = country.capital;\n    var addButton = this.element.querySelector('#add-button');\n    addButton.onclick = function(){\n      this.onAdd(country);\n    }.bind(this);\n  }\n}\n\nmodule.exports = CountryDetailView;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/views/country_detailed_view.js\n ** module id = 1\n ** module chunks = 0\n **/","var CountryList = function(url){\n  this.countries = [];\n  this.onUpdate = null;\n  this.url = url\n}\n\nCountryList.prototype = {\n  populate: function(){\n    var request = new XMLHttpRequest();\n    request.open(\"GET\", this.url);\n    request.onload = function() {\n        if (request.status === 200) {\n            var jsonString = request.responseText;\n            var countries = JSON.parse(jsonString);\n            this.countries = countries;\n            this.onUpdate(countries);\n        }\n    }.bind(this);\n    request.send(null);\n  },\n  addCountry: function(country){\n    this.countries.push(country);\n    this.onUpdate(this.countries);\n    //persist\n    var request = new XMLHttpRequest();\n    request.open(\"POST\", this.url);\n    request.setRequestHeader(\"Content-Type\", \"application/json\");\n    request.onload = function(){\n      if(request.status === 200){\n      }\n    }\n    request.send( JSON.stringify( {country: country} ) );\n  }\n}\nmodule.exports = CountryList;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/models/country_list.js\n ** module id = 2\n ** module chunks = 0\n **/","var CountrySelectView = function(selectElement){\n  this.selectElement = selectElement;\n  this.onChange = undefined;\n  this.countries = [];\n  this.selectElement.addEventListener('change', function (e) {\n      var target = e.target\n      var index = target.selectedIndex;\n      var country = this.countries[index];\n      this.onChange(country);\n  }.bind(this), false);\n}\n\nCountrySelectView.prototype = {\n  populate:function(countries){\n    this.selectElement.innerHTML = \"\";\n    this.countries = countries;\n    this.countries.forEach(function(country, index){\n      country.index = index;\n      this.addOption(country, index);\n    }.bind(this));\n  },\n  addOption:function(country, index){\n    var option = document.createElement(\"option\");\n    option.value = index;\n    option.text = country.name;\n    this.selectElement.appendChild(option);\n  },\n  setSelectedIndex:function(index){\n    this.selectElement.selectedIndex = index;\n  }\n}\n\nmodule.exports = CountrySelectView\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/views/countries_select_view.js\n ** module id = 3\n ** module chunks = 0\n **/","var BucketListView = function(listElement){\n  this.listElement = listElement;\n  this.onChange = undefined;\n  this.countries = [];\n}\n\nBucketListView.prototype = {\n  populate:function(countries){\n    this.listElement.innerHTML = \"\";\n    this.countries = countries;\n    this.countries.forEach(function(country){\n      this.addItem(country);\n    }.bind(this));\n  },\n  addItem:function(country, index){\n    var li = document.createElement(\"li\");\n    li.innerHTML = country.name;\n    this.listElement.appendChild(li);\n  },\n}\n\nmodule.exports = BucketListView\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/views/bucket_list_view.js\n ** module id = 4\n ** module chunks = 0\n **/"],"sourceRoot":""}